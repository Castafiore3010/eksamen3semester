<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" type="text/css" href="./stylesheets/landingPageStyle.css">
    <script src="index.js" type="module"></script>
</head>
<body>
<header>
    <a href="#" class="logo">CHRISTIANSÃ˜</a>
    <ul>
        <li><a href="/" class="active" id="homeLink" data-navigo>Home</a></li>
        <li><a href="#">Tours</a></li>
        <li><a href="/map"  id="mapLink" data-navigo>Map</a></li>
    </ul>
</header>
<section>
    <img src="./images/cloud.png" id="cloud1">
    <img src="./images/sunFlare.png" id="sunFlare">
    <img src="./images/land2.png" id="land">
    <h2 id="text1">DEN VISUELLE GUIDE TIL ERTEHOLMENE</h2>
    <a href="/map" id="frontBtn" data-navigo>Udforsk Kortet</a>
</section>




<div id="marker"></div>
<div id="content" class="secondPart"></div>

<script>

    let clouds = document.getElementById('cloud1');
    let sun = document.getElementById('sunFlare');
    let land = document.getElementById('land');
    let text = document.getElementById('text1');
    let btn = document.getElementById('frontBtn');
    let header = document.querySelector('header');


    window.addEventListener('scroll', () => {
        let value = window.scrollY;
        clouds.style.left = 0.25 * value + 'px';
        sun.style.top = value * 1.05 + 'px';
        //land.style.top = value * 0.5 + 'px';
        text.style.marginRight = value * 2 + 'px';
        text.style.marginTop = value + 'px';
        btn.style.marginTop = value * 2 + 'px';
        header.style.top = value * 0.5 + 'px';
    })
    async function loadTemplate(page) {
        const resHtml = await fetch(page).then(r => {
            if (!r.ok) {
                throw new Error(`Failed to load the page: '${page}' `)
            }
            return r.text()
        });
        const body = document.getElementsByTagName("BODY")[0];
        const div = document.createElement("div");
        div.innerHTML = resHtml;
        body.appendChild(div)
        return div.querySelector("template")
    };

    function renderTemplate(template, contentId) {
        const clone = template.content.cloneNode(true)
        const content = document.getElementById(contentId)
        content.innerHTML = ""
        content.appendChild(clone)
    }
    let counterHelp = 0;
   async function toggleFrogs(frogLocations) {

        if (!frogLocations) {



           const frogMarkerTemplate = await loadTemplate("templates/frogMarker.html");
           let frogMarkerDiv = document.createElement('div')
            frogMarkerDiv.id = "frogMarkerDiv";
           document.body.appendChild(frogMarkerDiv);
           renderTemplate(frogMarkerTemplate, frogMarkerDiv.id);
           const frogMarker = document.getElementById('frogMarkerDiv');
           console.log(frogMarker.id);
           frogMarker.style.display = "inline";
           frogMarker.style.position = "absolute";
           frogMarker.style.left = "400px";
           frogMarker.style.top = "200px";

           if (counterHelp % 2 !== 0) {
               frogMarker.style.display = "none";
           }
           counterHelp++;


        } else {
            for (const frogLoc of frogLocations) {
                const frogMarkerTemplate = await loadTemplate("templates/frogMarker.html");
                let div = document.createElement('div');
                div.id = frogLoc.id;
                document.body.appendChild(div);
                renderTemplate(frogMarkerTemplate, div.id);
                const marker = document.getElementById(div.id);
                marker.style.display = "inline";
                marker.style.position = "absolute";
                marker.style.left = frogLoc.leftPos+"px";
                marker.style.top = frogLoc.topPos+"px";




            }
        }


    }

    function toggleMenu(id) {
        let x = document.getElementById(id);
        if (x.style.display === "block") {
            x.style.display = "none";
        } else {
            x.style.display = "block";
        }
    }
</script>
</body>
</html>